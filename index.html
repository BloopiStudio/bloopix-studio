<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bloopix Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="assets/css/style.css" />

  <!-- GSAP + Lenis -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1/bundled/lenis.min.js"></script>
</head>

<body class="loading">

<div id="loader">
  <div class="loader-logo">BLOOPIX</div>
</div>

<div class="cursor"></div>
<div class="cursor-follower"></div>

<nav class="nav">
  <div class="logo">BLOOPIX</div>
  <ul>
    <li><a class="active" href="index.html">Home</a></li>
    <li><a href="shop.html">Shop</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>

<section class="hero">
  <h1>Premium Stickers<br>Designed to Feel Alive</h1>
  <p>Minimal, expressive sticker designs crafted with motion and intent.</p>
</section>

<section class="section">
  <h2 class="section-title">Featured Stickers</h2>

  <p class="shop-preview">Store preview — designs launching soon.</p>

  <div class="grid">
    <div class="product-card">
      <img src="https://picsum.photos/400/300?1">
      <h3>Abstract Flow</h3>
      <div class="price">₹199</div>
      <span class="preview-badge">Available soon</span>
    </div>

    <div class="product-card">
      <img src="https://picsum.photos/400/300?2">
      <h3>Neon Face</h3>
      <div class="price">₹249</div>
      <span class="preview-badge">Available soon</span>
    </div>

    <div class="product-card">
      <img src="https://picsum.photos/400/300?3">
      <h3>Minimal Eye</h3>
      <div class="price">₹179</div>
      <span class="preview-badge">Available soon</span>
    </div>
  </div>
</section>

<section class="notify-section">
  <h3>Be the first to know!</h3>
  <p>Enter your email and we’ll notify you when our store launches.</p>

  <form class="notify-form" action="https://formspree.io/f/mnjjjqpb" method="POST">
    <input type="email" name="email" placeholder="Your email address" required>
    <button type="submit">Notify Me</button>
  </form>
</section>

<footer>© 2026 Bloopix Studio</footer>
<script>
(() => {
  const isHome =
    location.pathname === "/" ||
    location.pathname.endsWith("index.html");

  if (!isHome) return;

  const loader = document.getElementById("loader");
  if (!loader) return;

  const visited = sessionStorage.getItem("homeVisited");

  // Lock scroll while loader is visible
  document.documentElement.classList.add("loading");
  document.body.classList.add("loading");

  window.addEventListener("load", () => {

    // If already visited → remove immediately
    if (visited) {
      loader.remove();
      document.documentElement.classList.remove("loading");
      document.body.classList.remove("loading");
      safeInit();
      return;
    }

    // First visit animation
    gsap.to(loader, {
      opacity: 0,
      duration: 0.7,
      ease: "power2.out",
      delay: 0.6,
      onComplete: () => {
        loader.remove();
        sessionStorage.setItem("homeVisited", "true");
        document.documentElement.classList.remove("loading");
        document.body.classList.remove("loading");
        safeInit();
      }
    });
  });

  function safeInit() {
    if (window.initLenis) initLenis();
    if (window.initGSAP) initGSAP();
    if (window.initCursor) initCursor();
  }
})();
</script>


<script src="assets/js/main.js"></script>

</body>
</html>
